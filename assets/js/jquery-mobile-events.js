"use strict";!function($){function e(){var e=s();e!==r&&(r=e,n.trigger("orientationchange"))}function t(e,t,a,o){var n=a.type;a.type=t,$.event.dispatch.call(e,a,o),a.type=n}$.attrFn=$.attrFn||{};var a="ontouchstart"in window,o={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:a,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:a?"touchstart":"mousedown",endevent:a?"touchend":"mouseup",moveevent:a?"touchmove":"mousemove",tapevent:a?"tap":"click",scrollevent:a?"touchmove":"scroll",hold_timer:null,tap_timer:null};$.isTouchCapable=function(){return o.touch_capable},$.getStartEvent=function(){return o.startevent},$.getEndEvent=function(){return o.endevent},$.getMoveEvent=function(){return o.moveevent},$.getTapEvent=function(){return o.tapevent},$.getScrollEvent=function(){return o.scrollevent},$.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(e,t){$.fn[t]=function(e){return e?this.on(t,e):this.trigger(t)},$.attrFn[t]=!0}),$.event.special.tapstart={setup:function(){var e=this,a=$(e);a.on(o.startevent,function n(i){if(a.data("callee",n),i.which&&1!==i.which)return!1;var s=i.originalEvent,r={position:{x:o.touch_capable?s.touches[0].screenX:i.screenX,y:o.touch_capable?s.touches[0].screenY:i.screenY},offset:{x:o.touch_capable?Math.round(s.changedTouches[0].pageX-(a.offset()?a.offset().left:0)):Math.round(i.pageX-(a.offset()?a.offset().left:0)),y:o.touch_capable?Math.round(s.changedTouches[0].pageY-(a.offset()?a.offset().top:0)):Math.round(i.pageY-(a.offset()?a.offset().top:0))},time:Date.now(),target:i.target};return t(e,"tapstart",i,r),!0})},remove:function(){$(this).off(o.startevent,$(this).data.callee)}},$.event.special.tapmove={setup:function(){var e=this,a=$(e);a.on(o.moveevent,function n(i){a.data("callee",n);var s=i.originalEvent,r={position:{x:o.touch_capable?s.touches[0].screenX:i.screenX,y:o.touch_capable?s.touches[0].screenY:i.screenY},offset:{x:o.touch_capable?Math.round(s.changedTouches[0].pageX-(a.offset()?a.offset().left:0)):Math.round(i.pageX-(a.offset()?a.offset().left:0)),y:o.touch_capable?Math.round(s.changedTouches[0].pageY-(a.offset()?a.offset().top:0)):Math.round(i.pageY-(a.offset()?a.offset().top:0))},time:Date.now(),target:i.target};return t(e,"tapmove",i,r),!0})},remove:function(){$(this).off(o.moveevent,$(this).data.callee)}},$.event.special.tapend={setup:function(){var e=this,a=$(e);a.on(o.endevent,function n(i){a.data("callee",n);var s=i.originalEvent,r={position:{x:o.touch_capable?s.changedTouches[0].screenX:i.screenX,y:o.touch_capable?s.changedTouches[0].screenY:i.screenY},offset:{x:o.touch_capable?Math.round(s.changedTouches[0].pageX-(a.offset()?a.offset().left:0)):Math.round(i.pageX-(a.offset()?a.offset().left:0)),y:o.touch_capable?Math.round(s.changedTouches[0].pageY-(a.offset()?a.offset().top:0)):Math.round(i.pageY-(a.offset()?a.offset().top:0))},time:Date.now(),target:i.target};return t(e,"tapend",i,r),!0})},remove:function(){$(this).off(o.endevent,$(this).data.callee)}},$.event.special.taphold={setup:function(){var e=this,a=$(e),n,i={x:0,y:0},s=0,r=0;a.on(o.startevent,function c(h){if(h.which&&1!==h.which)return!1;a.data("tapheld",!1),n=h.target;var p=h.originalEvent,f=Date.now(),u={x:o.touch_capable?p.touches[0].screenX:h.screenX,y:o.touch_capable?p.touches[0].screenY:h.screenY},l={x:o.touch_capable?p.touches[0].pageX-p.touches[0].target.offsetLeft:h.offsetX,y:o.touch_capable?p.touches[0].pageY-p.touches[0].target.offsetTop:h.offsetY};i.x=h.originalEvent.targetTouches?h.originalEvent.targetTouches[0].pageX:h.pageX,i.y=h.originalEvent.targetTouches?h.originalEvent.targetTouches[0].pageY:h.pageY,s=i.x,r=i.y;var g=a.parent().data("threshold")?a.parent().data("threshold"):a.data("threshold"),d=void 0!==g&&!1!==g&&parseInt(g)?parseInt(g):o.taphold_threshold;return o.hold_timer=window.setTimeout(function(){var g=i.x-s,d=i.y-r;if(h.target==n&&(i.x==s&&i.y==r||g>=-o.tap_pixel_range&&g<=o.tap_pixel_range&&d>=-o.tap_pixel_range&&d<=o.tap_pixel_range)){a.data("tapheld",!0);var v=Date.now(),_={x:o.touch_capable?p.touches[0].screenX:h.screenX,y:o.touch_capable?p.touches[0].screenY:h.screenY},w={x:o.touch_capable?Math.round(p.changedTouches[0].pageX-(a.offset()?a.offset().left:0)):Math.round(h.pageX-(a.offset()?a.offset().left:0)),y:o.touch_capable?Math.round(p.changedTouches[0].pageY-(a.offset()?a.offset().top:0)):Math.round(h.pageY-(a.offset()?a.offset().top:0))},T=v-f,x={startTime:f,endTime:v,startPosition:u,startOffset:l,endPosition:_,endOffset:w,duration:T,target:h.target};a.data("callee1",c),t(e,"taphold",h,x)}},d),!0}).on(o.endevent,function e(){a.data("callee2",e),a.data("tapheld",!1),window.clearTimeout(o.hold_timer)}).on(o.moveevent,function e(t){a.data("callee3",e),s=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,r=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY})},remove:function(){$(this).off(o.startevent,$(this).data.callee1).off(o.endevent,$(this).data.callee2).off(o.moveevent,$(this).data.callee3)}},$.event.special.doubletap={setup:function(){var e=this,a=$(e),n,i,s=null,r,c,h=!1;a.on(o.startevent,function e(t){return(!t.which||1===t.which)&&(a.data("doubletapped",!1),n=t.target,a.data("callee1",e),r=t.originalEvent,s||(s={position:{x:o.touch_capable?r.touches[0].screenX:t.screenX,y:o.touch_capable?r.touches[0].screenY:t.screenY},offset:{x:o.touch_capable?Math.round(r.changedTouches[0].pageX-(a.offset()?a.offset().left:0)):Math.round(t.pageX-(a.offset()?a.offset().left:0)),y:o.touch_capable?Math.round(r.changedTouches[0].pageY-(a.offset()?a.offset().top:0)):Math.round(t.pageY-(a.offset()?a.offset().top:0))},time:Date.now(),target:t.target,element:t.originalEvent.srcElement,index:$(t.target).index()}),!0)}).on(o.endevent,function n(p){var f=Date.now(),u=a.data("lastTouch")||f+1,l=f-u;if(window.clearTimeout(i),a.data("callee2",n),l<o.doubletap_int&&$(p.target).index()==s.index&&l>100){a.data("doubletapped",!0),window.clearTimeout(o.tap_timer);var g={position:{x:o.touch_capable?p.originalEvent.changedTouches[0].screenX:p.screenX,y:o.touch_capable?p.originalEvent.changedTouches[0].screenY:p.screenY},offset:{x:o.touch_capable?Math.round(r.changedTouches[0].pageX-(a.offset()?a.offset().left:0)):Math.round(p.pageX-(a.offset()?a.offset().left:0)),y:o.touch_capable?Math.round(r.changedTouches[0].pageY-(a.offset()?a.offset().top:0)):Math.round(p.pageY-(a.offset()?a.offset().top:0))},time:Date.now(),target:p.target,element:p.originalEvent.srcElement,index:$(p.target).index()},d={firstTap:s,secondTap:g,interval:g.time-s.time};h||(t(e,"doubletap",p,d),s=null),h=!0,c=window.setTimeout(function(){h=!1},o.doubletap_int)}else a.data("lastTouch",f),i=window.setTimeout(function(){s=null,window.clearTimeout(i)},o.doubletap_int,[p]);a.data("lastTouch",f)})},remove:function(){$(this).off(o.startevent,$(this).data.callee1).off(o.endevent,$(this).data.callee2)}},$.event.special.singletap={setup:function(){var e=this,a=$(e),n=null,i=null,s={x:0,y:0};a.on(o.startevent,function e(t){return(!t.which||1===t.which)&&(i=Date.now(),n=t.target,a.data("callee1",e),s.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,s.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,!0)}).on(o.endevent,function r(c){if(a.data("callee2",r),c.target==n){var h=c.originalEvent.changedTouches?c.originalEvent.changedTouches[0].pageX:c.pageX,p=c.originalEvent.changedTouches?c.originalEvent.changedTouches[0].pageY:c.pageY;o.tap_timer=window.setTimeout(function(){var n=s.x-h,r=s.y-p;if(!a.data("doubletapped")&&!a.data("tapheld")&&(s.x==h&&s.y==p||n>=-o.tap_pixel_range&&n<=o.tap_pixel_range&&r>=-o.tap_pixel_range&&r<=o.tap_pixel_range)){var f=c.originalEvent,u={position:{x:o.touch_capable?f.changedTouches[0].screenX:c.screenX,y:o.touch_capable?f.changedTouches[0].screenY:c.screenY},offset:{x:o.touch_capable?Math.round(f.changedTouches[0].pageX-(a.offset()?a.offset().left:0)):Math.round(c.pageX-(a.offset()?a.offset().left:0)),y:o.touch_capable?Math.round(f.changedTouches[0].pageY-(a.offset()?a.offset().top:0)):Math.round(c.pageY-(a.offset()?a.offset().top:0))},time:Date.now(),target:c.target};u.time-i<o.taphold_threshold&&t(e,"singletap",c,u)}},o.doubletap_int)}})},remove:function(){$(this).off(o.startevent,$(this).data.callee1).off(o.endevent,$(this).data.callee2)}},$.event.special.tap={setup:function(){var e=this,a=$(e),n=!1,i=null,s,r={x:0,y:0},c;a.on(o.startevent,function e(t){return a.data("callee1",e),(!t.which||1===t.which)&&(n=!0,r.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,r.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,s=Date.now(),i=t.target,c=t.originalEvent.targetTouches?t.originalEvent.targetTouches:[t],!0)}).on(o.endevent,function h(p){a.data("callee2",h);var f=p.originalEvent.targetTouches?p.originalEvent.changedTouches[0].pageX:p.pageX,u=p.originalEvent.targetTouches?p.originalEvent.changedTouches[0].pageY:p.pageY,l=r.x-f,g=r.y-u,d;if(i==p.target&&n&&Date.now()-s<o.taphold_threshold&&(r.x==f&&r.y==u||l>=-o.tap_pixel_range&&l<=o.tap_pixel_range&&g>=-o.tap_pixel_range&&g<=o.tap_pixel_range)){for(var v=p.originalEvent,_=[],w=0;w<c.length;w++){var T={position:{x:o.touch_capable?v.changedTouches[w].screenX:p.screenX,y:o.touch_capable?v.changedTouches[w].screenY:p.screenY},offset:{x:o.touch_capable?Math.round(v.changedTouches[w].pageX-(a.offset()?a.offset().left:0)):Math.round(p.pageX-(a.offset()?a.offset().left:0)),y:o.touch_capable?Math.round(v.changedTouches[w].pageY-(a.offset()?a.offset().top:0)):Math.round(p.pageY-(a.offset()?a.offset().top:0))},time:Date.now(),target:p.target};_.push(T)}t(e,"tap",p,_)}})},remove:function(){$(this).off(o.startevent,$(this).data.callee1).off(o.endevent,$(this).data.callee2)}},$.event.special.swipe={setup:function(){function e(t){i=$(t.currentTarget),i.data("callee1",e),c.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,c.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,h.x=c.x,h.y=c.y,s=!0;var a=t.originalEvent;p={position:{x:o.touch_capable?a.touches[0].screenX:t.screenX,y:o.touch_capable?a.touches[0].screenY:t.screenY},offset:{x:o.touch_capable?Math.round(a.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(t.pageX-(i.offset()?i.offset().left:0)),y:o.touch_capable?Math.round(a.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(t.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:t.target}}function t(e){i=$(e.currentTarget),i.data("callee2",t),h.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,h.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY;var a,n=i.parent().data("xthreshold")?i.parent().data("xthreshold"):i.data("xthreshold"),f=i.parent().data("ythreshold")?i.parent().data("ythreshold"):i.data("ythreshold"),u=void 0!==n&&!1!==n&&parseInt(n)?parseInt(n):o.swipe_h_threshold,l=void 0!==f&&!1!==f&&parseInt(f)?parseInt(f):o.swipe_v_threshold;if(c.y>h.y&&c.y-h.y>l&&(a="swipeup"),c.x<h.x&&h.x-c.x>u&&(a="swiperight"),c.y<h.y&&h.y-c.y>l&&(a="swipedown"),c.x>h.x&&c.x-h.x>u&&(a="swipeleft"),void 0!=a&&s){c.x=0,c.y=0,h.x=0,h.y=0,s=!1;var g=e.originalEvent,d={position:{x:o.touch_capable?g.touches[0].screenX:e.screenX,y:o.touch_capable?g.touches[0].screenY:e.screenY},offset:{x:o.touch_capable?Math.round(g.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(e.pageX-(i.offset()?i.offset().left:0)),y:o.touch_capable?Math.round(g.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(e.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:e.target},v=Math.abs(p.position.x-d.position.x),_=Math.abs(p.position.y-d.position.y),w={startEvnt:p,endEvnt:d,direction:a.replace("swipe",""),xAmount:v,yAmount:_,duration:d.time-p.time};r=!0,i.trigger("swipe",w).trigger(a,w)}}function a(e){i=$(e.currentTarget);var t="";if(i.data("callee3",a),r){var n=i.data("xthreshold"),c=i.data("ythreshold"),h=void 0!==n&&!1!==n&&parseInt(n)?parseInt(n):o.swipe_h_threshold,f=void 0!==c&&!1!==c&&parseInt(c)?parseInt(c):o.swipe_v_threshold,u=e.originalEvent,l={position:{x:o.touch_capable?u.changedTouches[0].screenX:e.screenX,y:o.touch_capable?u.changedTouches[0].screenY:e.screenY},offset:{x:o.touch_capable?Math.round(u.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(e.pageX-(i.offset()?i.offset().left:0)),y:o.touch_capable?Math.round(u.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(e.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:e.target};p.position.y>l.position.y&&p.position.y-l.position.y>f&&(t="swipeup"),p.position.x<l.position.x&&l.position.x-p.position.x>h&&(t="swiperight"),p.position.y<l.position.y&&l.position.y-p.position.y>f&&(t="swipedown"),p.position.x>l.position.x&&p.position.x-l.position.x>h&&(t="swipeleft");var g=Math.abs(p.position.x-l.position.x),d=Math.abs(p.position.y-l.position.y),v={startEvnt:p,endEvnt:l,direction:t.replace("swipe",""),xAmount:g,yAmount:d,duration:l.time-p.time};i.trigger("swipeend",v)}s=!1,r=!1}var n=this,i=$(n),s=!1,r=!1,c={x:0,y:0},h={x:0,y:0},p;i.on(o.startevent,e),i.on(o.moveevent,t),i.on(o.endevent,a)},remove:function(){$(this).off(o.startevent,$(this).data.callee1).off(o.moveevent,$(this).data.callee2).off(o.endevent,$(this).data.callee3)}},$.event.special.scrollstart={setup:function(){function e(e,o){i=o,t(a,i?"scrollstart":"scrollend",e)}var a=this,n=$(a),i,s;n.on(o.scrollevent,function t(a){n.data("callee",t),i||e(a,!0),clearTimeout(s),s=setTimeout(function(){e(a,!1)},50)})},remove:function(){$(this).off(o.scrollevent,$(this).data.callee)}};var n=$(window),i,s,r,c,h,p={0:!0,180:!0};if(o.orientation_support){var f=window.innerWidth||n.width(),u=window.innerHeight||n.height(),l=50;c=f>u&&f-u>50,h=p[window.orientation],(c&&h||!c&&!h)&&(p={"-90":!0,90:!0})}$.event.special.orientationchange=i={setup:function(){return!o.orientation_support&&(r=s(),n.on("throttledresize",e),!0)},teardown:function(){return!o.orientation_support&&(n.off("throttledresize",e),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=s(),t.apply(this,arguments)}}},$.event.special.orientationchange.orientation=s=function(){var e=!0,t=document.documentElement;return e=o.orientation_support?p[window.orientation]:t&&t.clientWidth/t.clientHeight<1.1,e?"portrait":"landscape"},$.event.special.throttledresize={setup:function(){$(this).on("resize",d)},teardown:function(){$(this).off("resize",d)}};var g=250,d=function(){w=Date.now(),T=w-v,T>=250?(v=w,$(this).trigger("throttledresize")):(_&&window.clearTimeout(_),_=window.setTimeout(e,250-T))},v=0,_,w,T;$.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(e,t){$.event.special[e]={setup:function(){$(this).on(t,$.noop)}}})}(jQuery);